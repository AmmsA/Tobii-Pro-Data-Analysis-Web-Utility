<!DOCTYPE html>
<head>
<meta charset="utf-8">
<style>

	body {
		background-color:#bbb;
		margin:0;
	}
	#container {
		margin:none;
		border:none;
		padding:none;
		width:100%;
		font-family:sans-serif;
		font-size:16px;
		background-color:white;
	}
	
	#header {
		width:100%;
		height:150px;
		line-height:150px;
		font-size:30px;
		font-weight:bold;
		font-family:sans-serif;
	}
	
	img {
		height: 125px;
		width: 125px;
		margin:12.5px 40px 12.5px 20px;
		vertical-align: middle;
	}
	
	button {
		display:inline-block;
		height: 50px;
		width: 40%;
		margin-top:20px;
		margin-bottom:20px;
		border:none;
		line-height:50px;
		text-align:center;
		font-size:inherit;
		background-color: black;
		color:gold;
		border-radius:10px;
		border:1px solid black;
	}
	
	#automatic {
		margin-left:10%;
	}
	
	#manual {
		margin-left:0;
	}
	
	#input {
		height:200px;
		width:79%;
		margin:auto;
		border:1px solid blue;
	}
	
	#in {
		width:100%;
		height:100%;
		box-sizing:border-box;
		resize:none;
	}
	
	#statistics {
		margin:20px auto;
		height:50px;
		line-height:50px;
		width:80%;
		border:1px solid black;
		border-radius:10px;
		background-color:black;
		color:gold;
	}
	
	label {
	display:inline-block;
	width:16%;
	text-align:center;
	line-height:20px;
		height:auto;
	}

	section {
		display:inline-block;
		width: 30%;
		margin: 20px 1.3%;
		height:170px;
		background-color:black;
	}
	
	p {
		width:100%;
		margin:0;
		color:gold;
		text-align:center;
	}
	
	.secTitle {
		height:50px;
		line-height:50px;
		font-weight:bold;
	}
	
	.secNum {
		height:120px;
		line-height:120px;
		font-size:50px;
	}
	
	#statsOut {
		width:80%;
		margin:auto;
	}
</style>
</style>
</head>
<body>
	<div id="container">
	<div id="header"><img src="csulb.png" align="left" />Tobii Eye Tracking Data Analysis</div>
	<button id="automatic">Automatic Upload</button>
	<button id="manual">Manual Entry</button>
	<div id="input"><textarea id="in"></textarea></div>
	<div id="statistics">
		<label><input type="checkbox" id="sum">&nbsp;Sum</input></label>
		<label><input type="checkbox" id="mean">&nbsp;Mean</input></label>
		<label><input type="checkbox" id="median">&nbsp;Median</input></label>
		<label><input type="checkbox" id="stDev">&nbsp;Std Dev</input></label>
		<label><input type="checkbox" id="min">&nbsp;Min</input></label>
		<label><input type="checkbox" id="max">&nbsp;Max</input></label>
		<br/>
	</div>
	<div id="statsOut">
		<section id="sumSec"><p class="secTitle">Sum</p><p class="secNum">1.33</p></section>
		<section id="meanSec"><p class="secTitle">Mean</p><p class="secNum">1.33</p></section>
		<section id="medianSec"><p class="secTitle">Median</p><p class="secNum">1.33</p></section>
		<section id="stDevSec"><p class="secTitle">Sum</p><p class="secNum">1.33</p></section>
		<section id="minSec"><p class="secTitle">Mean</p><p class="secNum">1.33</p></section>
		<section id="maxSec"><p class="secTitle">Median</p><p class="secNum">1.33</p></section>
	</div>
	</div>
</body>
<script>


/*
 * Input and Output
 */
 
 function write(stat, val) {
	document.getElementById("out").innerHTML = "The " + stat + " is " + val;
}

function read() {
	return document.getElementById("in").value.split(",");	
}

/*
 * Event Handlers
 */
 
document.getElementById("sum").addEventListener("click", function() {
	write("sum", getSum(read()))
});

document.getElementById("mean").addEventListener("click", function() {
	write("mean", getMean(read()));
});

document.getElementById("median").addEventListener("click", function() {
	write("median", getMedian(read()));
});

document.getElementById("stDev").addEventListener("click", function() {
	write("standard deviation", getStDev(read()));
});

document.getElementById("min").addEventListener("click", function() {
	write("min", getMin(read()));
});

document.getElementById("max").addEventListener("click", function() {
	write("max", getMax(read()));
});

/*
 * Statistics Functions
 */

function getSum(numbers) {
	var sum = 0.0;
	for (var i = 0; i < numbers.length; i++) {
		sum += parseFloat(numbers[i]);
	}
	return sum;
}

function getMean(data) {
	var sum = 0.0;
	for (var i = 0; i < data.length; i++) {
		sum += parseFloat(data[i]);
	}
	
	return sum / data.length;
}

function getMedian(numbers) {
	
	numbers.sort(function(a, b) {
		return parseInt(a) < parseInt(b);
	});
	
	var middle = numbers.length / 2;
	if (numbers.length % 2 == 1) {
		return numbers[middle];
	}
	else {
		return (parseFloat(numbers[middle - 1]) + parseFloat(numbers[middle])) / 2.0;
	}
}

function getStDev(data) {

	var mean = getMean(data);
	
	var sum = 0.0;
	for (var i = 0; i < data.length; i++) {
		sum += Math.pow(data[i] - mean, 2);
	}
	
	return Math.sqrt(sum / data.length);
}

function getMin(numbers) {
	return Math.min.apply(Math, numbers);
}

function getMax(numbers) {
	return Math.max.apply(Math, numbers);
}

</script>
</html>