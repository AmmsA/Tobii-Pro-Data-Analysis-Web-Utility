<!DOCTYPE html>
<head>
<meta charset="utf-8">
<style>
	#container {
		margin:auto;
		width:80%;
		border:1px solid;
	}
	
	#header {
		width:100%;
		height:150px;
		line-height:150px;
		font-size:30px;
		font-weight:bold;
		font-family:sans-serif;
	}
	
	img {
		margin:0 40px 0 20px;
	}
	
	#input {
		height:600px;
		width:79%;
		float:left;
		border:1px solid blue;
	}
	
	#in {
		width:100%;
		height:100%;
		box-sizing:border-box;
		resize:none;
	}
	
	#panel {
		height:600px;
		width:19%;
		float:left;
		border:1px solid red;
	}
	
	#output {
		height:100px;
		width:100%;
		display:block;
		float:left;
		clear:both;
		border:1px solid green;
	}
	
	#compMean {
		display:inline;
	}
	
</style>
</style>
</head>
<body>
	<div id="container">
	<div id="header"><img height="150" width="150" src="csulb.png" align="left" />Tobii Eye Tracking Data Analysis</div>
	<div id="input"><textarea id="in"></textarea></div>
	<div id="panel">
		<button id="sum">Sum</button>
		<br/>
		<button id="mean">Mean</button>
		<br/>
		<button id="median">Median</button>
		<br/>
		<button id="stDev">Std Dev</button>
		<br/>
		<button id="min">Min</button>
		<br/>
		<button id="max">Max</button>
		<br/>
	</div>
	<div id="output">
		<p id="out"></p>
	</div>
	</div>
</body>
<script>


/*
 * Input and Output
 */
 
 function write(stat, val) {
	document.getElementById("out").innerHTML = "The " + stat + " is " + val;
}

function read() {
	return document.getElementById("in").value.split(",");	
}

/*
 * Event Handlers
 */
 
document.getElementById("sum").addEventListener("click", function() {
	write("sum", getSum(read()))
});

document.getElementById("mean").addEventListener("click", function() {
	write("mean", getMean(read()));
});

document.getElementById("median").addEventListener("click", function() {
	write("median", getMedian(read()));
});

document.getElementById("stDev").addEventListener("click", function() {
	write("standard deviation", getStDev(read()));
});

document.getElementById("min").addEventListener("click", function() {
	write("min", getMin(read()));
});

document.getElementById("max").addEventListener("click", function() {
	write("max", getMax(read()));
});

/*
 * Statistics Functions
 */

function getSum(numbers) {
	var sum = 0.0;
	for (var i = 0; i < numbers.length; i++) {
		sum += parseFloat(numbers[i]);
	}
	return sum;
}

function getMean(data) {
	var sum = 0.0;
	for (var i = 0; i < data.length; i++) {
		sum += parseFloat(data[i]);
	}
	
	return sum / data.length;
}

function getMedian(numbers) {
	
	numbers.sort(function(a, b) {
		return parseInt(a) < parseInt(b);
	});
	
	var middle = numbers.length / 2;
	if (numbers.length % 2 == 1) {
		return numbers[middle];
	}
	else {
		return (parseFloat(numbers[middle - 1]) + parseFloat(numbers[middle])) / 2.0;
	}
}

function getStDev(data) {

	var mean = getMean(data);
	
	var sum = 0.0;
	for (var i = 0; i < data.length; i++) {
		sum += Math.pow(data[i] - mean, 2);
	}
	
	return Math.sqrt(sum / data.length);
}

function getMin(numbers) {
	return Math.min.apply(Math, numbers);
}

function getMax(numbers) {
	return Math.max.apply(Math, numbers);
}

</script>
</html>